<!-- language: html -->
<header class="header">
  <div class="left">
    <img src="assets/images/tasklogo.png" alt="logo" class="logo-img" />
    <span class="app-name">Task</span>
  </div>

  <div class="center">
    <div class="search-bar">
      <mat-icon class="search-icon">search</mat-icon>
      <input type="text" placeholder="Tìm kiếm" class="search-input" />
    </div>
  </div>

  <div class="right">
    <mat-icon class="notification-icon">notifications</mat-icon>

    <img
      *ngIf="avatarUrl"
      [src]="avatarUrl"
      class="avatar"
      alt="avatar"
      (error)="onAvatarError($event)"
      (click)="toggleAccountPopup()"
    />

    <mat-icon *ngIf="!avatarUrl" class="avatar-icon" (click)="toggleAccountPopup()">account_circle</mat-icon>

    <app-account-popup
      [visible]="isPopupVisible"
      [position]="'header'"
      [user]="user"
      [avatarUrl]="avatarUrl"
      (onClose)="closePopup()"
      (onLogout)="logout()"
      (onCreateWorkspace)="openCreateWorkspace()"
    ></app-account-popup>

    <app-create-workspace
      *ngIf="headerCreateWorkspaceVisible"
      (close)="headerCreateWorkspaceVisible = false"
    ></app-create-workspace>
  </div>

</header>
