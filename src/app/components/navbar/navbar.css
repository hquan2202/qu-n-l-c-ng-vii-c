/* --- VARIABLES --- */
:host {
  --h-header-bg: var(--header-bg, #1F1F21); /* Nền tối */
  --h-text-color: var(--text-color, #ffffff);
  --h-search-bg: var(--search-bg, #EEEEEE);
  --h-muted: var(--muted, #474747);
  --h-hover-bg: rgba(255, 255, 255, 0.15); /* Hover sáng cho nền tối */
  --h-accent: var(--accent, #64a0ff);
  --btn-share-bg: rgba(255, 255, 255, 0.12); /* Nền nút share trong suốt */
}

/* --- NAVBAR CONTAINER --- */
.navbar {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 55px;
  background-color: var(--h-header-bg);
  display: flex;
  align-items: center;
  padding: 0 16px; /* Padding chuẩn */
  z-index: 1000;
  justify-content: space-between;
  color: var(--h-text-color);
  box-sizing: border-box;
  font-weight: 500;
  flex-shrink: 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Viền nhẹ ngăn cách */
}

/* --- LEFT SECTION --- */
.left {
  display: flex;
  align-items: center;
  height: 100%; /* Chiều cao theo navbar */
  gap: 12px; /* Tạo khoảng cách đều giữa Logo, Filter, View, Share */
}

/* Logo */
.logo-img {
  width: 24px; /* Size logo gọn hơn */
  height: auto;
  object-fit: cover;
}

.app-name {
  font-size: 18px;
  font-weight: 700;
  color: var(--h-text-color);
  margin-right: 8px; /* Cách icon đầu tiên ra một chút */
  white-space: nowrap;
  cursor: pointer;
  opacity: 0.9;
}
.app-name:hover { opacity: 1; }

/* --- ICONS CHUNG (Filter, View) --- */
/* Chỉ tác động đến mat-icon nằm trực tiếp trong navbar hoặc wrapper, TRỪ icon trong nút share */
.navbar > mat-icon,
.filter-wrapper > mat-icon,
.view-wrapper > mat-icon {
  color: var(--h-text-color);
  cursor: pointer;
  font-size: 22px;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  transition: background-color 0.2s;
  padding: 0; /* Reset padding thừa */
}

.navbar mat-icon:hover,
.filter-wrapper > mat-icon:hover,
.view-wrapper > mat-icon:hover {
  background-color: var(--h-hover-bg);
}

/* --- SHARE BUTTON (THEME TỐI) --- */
.share-wrapper {
  display: flex;
  align-items: center;
}

.share-btn {
  /* Màu nền kính mờ sang trọng cho nền tối */
  background-color: var(--btn-share-bg);
  color: var(--h-text-color);

  /* Border & Shape */
  border: none;
  border-radius: 4px;
  height: 32px;
  padding: 0 12px; /* Padding 2 bên cho nút chữ */

  /* Layout */
  display: flex;
  align-items: center;
  gap: 6px;

  /* Text & Font */
  font-weight: 500;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
}

/* Icon bên trong nút Share */
.share-btn .share-icon {
  font-size: 18px;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: inherit; /* Ăn theo màu chữ nút */
  padding: 0; /* Reset padding global */
}

/* Hover Effect cho nút Share */
.share-btn:hover {
  background-color: rgba(255, 255, 255, 0.25); /* Sáng hơn khi hover */
}

/* Active/Click Effect */
.share-btn:active {
  transform: translateY(1px);
}

/* --- WRAPPERS --- */
.filter-wrapper, .view-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

/* Icon Filter khi Active */
.filter-active {
  background-color: var(--h-hover-bg);
  color: var(--h-accent) !important; /* Màu xanh khi đang lọc */
}

/* --- DROPDOWN MENU --- */
.filter-menu {
  position: absolute;
  top: 40px; /* Đẩy xuống một chút */
  left: 0;
  z-index: 1100;
  background: #282E33; /* Nền menu tối */
  border: 1px solid #3C454D;
  border-radius: 6px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
  padding: 5px 0;
  width: 220px;

  max-height: 0;
  opacity: 0;
  visibility: hidden; /* Thêm visibility để tránh click nhầm */
  transform: translateY(-10px);
  transition: all 0.2s ease-out;
}

.filter-menu.open {
  max-height: 500px;
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* Option trong menu */
.filter-options-list .btn-filter-option {
  display: flex;
  align-items: center;
  width: 100%;
  text-align: left;
  padding: 10px 15px;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 14px;
  color: #B6C2CF; /* Màu chữ sáng nhẹ */
  transition: background-color 0.2s;
  border-left: 3px solid transparent;
}

.filter-options-list .btn-filter-option:hover {
  background-color: rgba(255, 255, 255, 0.08);
  color: #ffffff;
}

/* --- RIGHT SECTION (AVATAR) --- */
.right {
  display: flex;
  align-items: center;
  height: 100%;
  gap: 10px;
}

.avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
  cursor: pointer;
  border: 2px solid transparent;
  transition: border-color 0.2s;
}

.avatar:hover {
  border-color: var(--h-hover-bg);
}
