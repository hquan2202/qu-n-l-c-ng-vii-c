<div class="sidebar-container">

  <!-- Nhóm menu trên cùng -->
  <div class="nav-group">

    <!-- Trang chủ -->
    <div
      class="menu-item"
      routerLink="/home"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <div class="icon"><mat-icon>home</mat-icon></div>
      <span class="label">Trang chủ</span>
    </div>

    <!-- My Tasks -->
    <div
      class="menu-item"
      routerLink="/all-task"
      routerLinkActive="active"
    >
      <div class="icon"><mat-icon>check_circle_outline</mat-icon></div>
      <span class="label">My Tasks</span>
    </div>
  </div>

  <div class="divider"></div>

  <!-- SECTION: BẢNG -->
  <div class="board-section">
    <div class="section-header" (click)="toggleBoards()">
      <span class="section-title">Bảng</span>
      <mat-icon class="arrow-icon">
        {{ isBoardsOpen ? 'expand_more' : 'chevron_right' }}
      </mat-icon>
    </div>

    <div class="board-list" [class.expanded]="isBoardsOpen">
      <!-- Mỗi board lấy từ myBoards (backend) -->
      <div
        class="menu-item board-item"
        *ngFor="let board of myBoards; trackBy: trackById"
        [routerLink]="['/card', board.id]"
        routerLinkActive="active"
      >
        <div class="board-content">
          <div class="icon">
            <!-- dot màu theo background / color -->
            <div
              class="board-dot"
              [style.background]="board.background || board.color || '#ffffff'"
            ></div>
          </div>
          <span class="label">{{ board.title }}</span>
        </div>

        <!-- (tuỳ nhóm có dùng menu 3 chấm hay không, để sẵn hook) -->
        <div class="board-actions" (click)="$event.stopPropagation()">
          <!-- ví dụ sau này có mat-menu thì gắn vào đây -->
        </div>
      </div>
      <div class="board-list" [class.expanded]="isBoardsOpen" *ngIf="myBoards.length === 0">
    
      <span class="label">Chưa có bảng nào</span>
    
    </div>
  </div>

  <!-- SECTION: NHÓM -->
  <div class="board-section">
    <div class="section-header" (click)="toggleTeams()">
      <span class="section-title">Nhóm</span>
      <mat-icon class="arrow-icon">
        {{ isTeamsOpen ? 'expand_more' : 'chevron_right' }}
      </mat-icon>
    </div>

    <div class="board-list" [class.expanded]="isTeamsOpen">
      <!-- Hiện tại chỉ có 1 link "Tất cả nhóm" -->
      <div
        class="menu-item"
        routerLink="/teams"
        routerLinkActive="active"
      >
        <span class="label">Tất cả nhóm</span>
      </div>
    </div>
  </div>

</div>
