<div class="home-container">
  <h2 class="section-title">YOUR WORKSPACES</h2>

  <div class="home-stats">
    <ng-container *ngFor="let c of cards; let i = index">

      <!-- Ô "Tạo bảng mới" -->
      <div
        *ngIf="normalizeTitle(c.title) === 'Tạo bảng mới'; else normalCard"
        class="create-board-card"
        (click)="openPopup()"
      >
        <span>Create new board</span>
      </div>

      <!-- Card bình thường -->
      <ng-template #normalCard>
        <div class="card-wrapper">
          <app-card
            [title]="c.title"
            [color]="c.color"
            [background]="c.background ?? ''"
            (cardClick)="onCardClick(c, i)"
            (delete)="deleteBoard(c, i)"
          >
          </app-card>
        </div>
      </ng-template>

    </ng-container>
  </div>

  <!-- Popup tạo board -->
  <app-task-description
    *ngIf="showPopup"
    [defaultType]="'workspace'"
    (close)="closePopup()"
    (addBoard)="addNewBoard($event)"
  >
  </app-task-description>

</div>
